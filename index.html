<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Form Registrasi Jamaah MSAH 2025M 1447H</title>

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

  <!-- CSS Animasi (External) -->
  <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-gray-100 font-sans text-gray-800">
  <div class="max-w-2xl mx-auto p-6 bg-white shadow-xl rounded-3xl mt-6 mb-10">
    <!-- Logo -->
    <img src="https://github.com/majlismsah/registrasijamaah/blob/main/logomajlis.png?raw=true"
         alt="Logo MSAH"
         class="mx-auto h-20 w-20 rounded-full shadow-lg ring-2 ring-blue-300 mb-4" />

    <!-- Judul -->
    <h1 class="text-2xl font-bold text-center mb-4">
      Form Registrasi Ulang Jamaah MSAH 2025
    </h1>

    <!-- FORM -->
    <form id="regForm" enctype="multipart/form-data" class="space-y-6">
      <!-- 1. IDENTITAS PRIBADI -->
      <div>
        <h2 class="text-lg font-semibold border-b pb-1 mb-3">üë§ Identitas Pribadi</h2>
      <!--  Nama KTP -->
        <input name="nama_ktp" class="w-full p-2 border rounded uppercase" placeholder="Nama Sesuai KTP" required />
      <!--  Nama ISMU SULTHON -->
        <input name="ismu_sulthon" class="w-full p-2 border rounded uppercase mt-2" placeholder="Ismu Sulthon" required />
      <!--  Jenis Kelamin -->
        <select name="jenis_kelamin" id="jenis_kelamin" onchange="toggleGender()" required class="w-full p-2 border rounded mt-2">
          <option value="">Jenis Kelamin</option>
          <option>Laki-laki</option>
          <option>Perempuan</option>
      <!--  Golongan Darah -->
        </select>
        <select name="golongan_darah" required class="w-full p-2 border rounded">
        <option value="">Pilih Golongan Darah</option>
        <option>A</option>
        <option>B</option>
        <option>AB</option>
        <option>O</option>
        <option>Tidak Tahu</option>
        </select>
      <!--Tempat Kelahiran-->
        <input name="tempat_lahir" class="w-full p-2 border rounded mt-2" placeholder="Tempat Lahir" required />
      <!--Tanggal Lahir-->
        <label class="mt-2 block">Tanggal Lahir</label>
        <input name="tanggal_lahir" type="date" placeholder="DD/MM/YYYY" required class="w-full p-2 border rounded mt-2" />
        <p class="text-xs text-gray-500 mt-1">Format: DD/MM/YYYY ‚Äì Untuk memilih tahun, arahkan di kiri atas dan klik tahun-nya</p>
        <select name="pendidikan" required class="w-full p-2 border rounded mt-4">
      <!--Pendidikan-->
          <option value="">Pendidikan Terakhir</option>
          <option>SD</option><option>SMP</option><option>SMA</option>
          <option>D1</option><option>D2</option><option>D3</option>
          <option>S1</option><option>S2</option><option>S3</option>
        </select>
      <!--Alamat Domisili-->
        <textarea name="alamat" placeholder="Alamat Lengkap Sesuai Domisili" required rows="3" class="w-full p-2 border rounded mt-2"></textarea>
      <!--Status Tinggal-->
        
      <!--Nomor Whatsapp-->  
        <input name="no_wa" id="no_wa" class="w-full p-2 border rounded mt-2" placeholder="Nomor Whatsapp (62xxx)" required />
      </div>

      <!-- 2. KONDISI KELUARGA & SOSIAL -->
      <div>
        <h2 class="text-lg font-semibold border-b pb-1 mb-3">üë™ Kondisi Keluarga & Sosial</h2>
     <!-- Status Pernikahan -->
        <select name="status_nikah" id="status_nikah" onchange="toggleStatusNikah()" required class="w-full p-2 border rounded">
          <option value="">Status Pernikahan</option>
          <option>Belum Menikah</option>
          <option>Menikah</option>
          <option>Cerai Hidup</option>
          <option>Cerai Mati</option>
        </select>

        <!-- Status Tinggal -->
        <select name="status_tinggal" required class="w-full p-2 border rounded mt-2">
          <option value="">Status Tinggal</option>
          <option>Tinggal dengan Orang Tua</option>
          <option>Tinggal dengan Suami/Istri</option>
          <option>Tinggal dengan Keluarga Besar</option>
          <option>Rumah Milik Sendiri</option>
          <option>Kontrak / Sewa</option>
          <option>Kos / Indekos</option>
          <option>Lainnya</option>
        </select>

        <!-- Nama Pasangan -->
        <div id="nama_pasangan_field" class="hidden">
          <input name="nama_pasangan" placeholder="Nama Suami/Istri" class="w-full p-2 border rounded mt-2 uppercase" />
        </div>

        <!-- Jumlah Anak, Jumlah Keluarga, Tinggal dengan Pasangan -->
        <div id="pasangan-fields" class="hidden">
          <input name="jumlah_anak" type="number" placeholder="Jumlah Anak" min="0" class="w-full p-2 border rounded mt-2" />
          <input name="jumlah_keluarga" type="number" placeholder="Jumlah Keluarga yang Tinggal Serumah" min="1" class="w-full p-2 border rounded mt-2" />
        </div>

      <!--Ijin, Khusus Akhawat-->  
        <div id="izin_suami_field" class="hidden mt-2">
          <label class="block text-sm">
            <input type="checkbox" name="izin_suami" class="mr-2">
            Saya telah mendapatkan persetujuan dari Suami untuk mengikuti kegiatan di MSAH.
          </label>
        </div>
      
      <!--Pekerjaan-->  
        <select name="pekerjaan" id="pekerjaan" class="w-full p-2 border rounded">
          <option value="">Pilih Pekerjaan</option>
          <option>Pelajar/Mahasiswa</option>
          <option>Ibu Rumah Tangga</option>
          <option>Aparatur Sipil Negara (ASN)</option>
          <option>Karyawan Swasta</option>
          <option>Guru/Dosen</option>
          <option>Wiraswasta</option>
          <option>Petani/Peternak</option>
          <option>Driver</option>
          <option>Ojol</option>
          <option>Tenaga Kesehatan</option>
          <option>Pekerja Lepas (Freelancer)</option>
          <option>Buruh/Karyawan Harian</option>
          <option>Pensiunan</option>
          <option>Tidak Bekerja</option>
          <option value="lainnya">Lainnya</option>
        </select>
        <!-- Input Lainnya -->
        <input type="text" name="pekerjaan_lainnya" id="pekerjaan_lainnya"
          class="w-full p-2 border rounded mt-2 hidden" placeholder="Tulis Pekerjaan Anda" />
      <!--Keahlian-->  
        <input name="keahlian" placeholder="Keahlian / Skill (Opsional)" class="w-full p-2 border rounded mt-2" />
      <!--Penghasilan Pribadi-->
        <select name="penghasilan" id="penghasilan" required class="w-full p-2 border rounded mt-2">
        <option value="">Penghasilan Pribadi per bulan</option>
        <option>Dibawah Rp1.000.000</option>
        <option>Rp1.000.000 - Rp3.000.000</option>
        <option>Rp3.000.000 - Rp5.000.000</option>
        <option>Rp5.000.000 - Rp10.000.000</option>
        <option>Di atas Rp10.000.000</option>
        <option>Tidak Berpenghasilan</option>
        <option value="lainnya">Lainnya</option>
      </select>
      <!-- Input Penghasilan Lainnya -->
      <div id="penghasilan_lainnya_field" class="hidden mt-2 relative">
        <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-600">Rp</span>
        <input type="number" min="0" name="penghasilan_lainnya" id="penghasilan_lainnya"
          placeholder="Jumlah Penghasilan Lainnya"
          class="w-full p-2 pl-10 border rounded" />
      </div>
      <!-- Pekerjaan Suami -->
        <div id="pekerjaan_suami_field" class="hidden">
          <!-- Pilihan Kategori -->
          <select name="pekerjaan_suami" id="pekerjaan_suami" class="w-full p-2 border rounded mt-2">
          <option value="">Pilih Pekerjaan Suami</option>
          <option>Aparatur Sipil Negara (ASN)</option>
          <option>Karyawan Swasta</option>
          <option>Guru/Dosen</option>
          <option>Wiraswasta</option>
          <option>Petani/Peternak</option>
          <option>Driver</option>
          <option>Ojol</option>
          <option>Tenaga Kesehatan</option>
          <option>Pekerja Lepas (Freelancer)</option>
          <option>Buruh/Karyawan Harian</option>
          <option>Pensiunan</option>
          <option>Tidak Bekerja</option>
          <option value="lainnya">Lainnya</option>
        </select>
          <!-- Input Manual Jika Lainnya -->
          <input type="text" name="pekerjaan_suami_lainnya" id="pekerjaan_suami_lainnya" placeholder="Sebutkan Pekerjaan Suami" class="w-full p-2 border rounded mt-2 hidden uppercase" />
        </div>
      <!--Penghasilan Suami-->
        <div id="penghasilan_suami_field" class="hidden mt-2">
        <select name="penghasilan_suami" id="penghasilan_suami" class="w-full p-2 border rounded mt-1">
        <option value="">Pilih Penghasilan Suami</option>
        <option>Dibawah Rp1.000.000</option>
        <option>Rp1.000.000 - Rp3.000.000</option>
        <option>Rp3.000.000 - Rp5.000.000</option>
        <option>Rp5.000.000 - Rp10.000.000</option>
        <option>Di atas Rp10.000.000</option>
        <option>Tidak Berpenghasilan</option>
        <option value="lainnya">Lainnya</option>
        </select>
      <!-- Input Lainnya -->
        <div id="penghasilan_suami_lainnya_field" class="hidden mt-2">
        <div class="flex items-center">
        <span class="inline-block bg-gray-200 border border-gray-300 rounded-l px-3 py-2 text-gray-700">Rp</span>
        <input type="number" name="penghasilan_suami_lainnya" id="penghasilan_suami_lainnya"
        class="w-full p-2 border rounded-r" placeholder="Tulis nominal penghasilan suami" min="0" />
        </div>
        </div>
        </div>
      </div>

      <!-- 3. KOMITMEN JAMAAH -->
      <div>
        <h2 class="text-lg font-semibold border-b pb-1 mb-3">ü§ù Komitmen Jamaah</h2>
        <select name="majlis_wilayah" required class="w-full p-2 border rounded mt-2">
          <option value="">Pilih Majlis Wilayah / Kabilah</option>
          <option>Ar-Rahman</option>
          <option>Ar-Rohim</option>
          <option>Al-Qudus</option>
          <option>Al-Malik</option>
          <option>Nurul Salikin</option>
          <option>Nurul Kamilah</option>
          <option>Nurul Hakim</option>
          <option>Nurul Hikmah</option>
          <option>Barakotaul Anbiya</option>
        </select>
        <input name="tahun_gabung" type="number" min="2000" placeholder="Tahun Kapan Anda Bergabung di MSAH" required class="w-full p-2 border rounded" />

        <label class="block mt-3 font-medium">Infaq Wajib MSAH (Pusat)</label>
        <select name="infaq_msah" required class="w-full p-2 border rounded">
          <option value="">Pilih</option>
          <option>Bersedia</option>
          <option>Tidak Bersedia</option>
        </select>
        <p class="text-xs text-gray-500 mt-1">
          * Infaq wajib bulanan sebesar <strong>Rp100.000</strong> sesuai ketentuan Majlis Pusat MSAH.
          <br>* Disetorkan setiap tanggal <strong>28</strong> setiap bulannya.
        </p>

        <label class="block mt-3 font-medium">Infaq Wilayah / Kabilah</label>
        <select name="infaq_wilayah" required class="w-full p-2 border rounded">
          <option value="">Pilih</option>
          <option>Bersedia</option>
          <option>Tidak Bersedia</option>
        </select>
        <p class="text-xs text-gray-500 mt-1">
          * Besaran infaq wilayah mengikuti keputusan Majlis Wilayah / Kabilah masing-masing.
        </p>

        <div class="mt-4">
          <p class="text-sm">
            Kesediaan Menunaikan <strong>ZISWNH</strong> (Zakat, Infak, Shodaqoh, Wakaf, Nafaqoh, Hibah/Hadiah)
            <br><span class="text-xs text-gray-500">
              Jumlah nominal sesuai nishab, kemampuan, atau kesepakatan struktural MSAH.
            </span>
          </p>
          <label class="block text-sm mt-2">
            <input type="checkbox" name="komitmen_ziswnh" required class="mr-2">
            Saya bersedia menunaikan kewajiban tersebut di MSAH.
          </label>
        </div>

        <label class="inline-flex items-start mt-4">
          <input type="checkbox" name="konfirmasi_ikrar" required class="mt-1" />
          <span class="ml-2 text-sm leading-snug">
            Dengan ini saya menyatakan bersedia menjadi jamaah dan mengikuti LIQO maupun kegiatan lainnya di MSAH baik pusat maupun Wilayah dan Kabilah, serta mengikuti aturan dan kewajiban yang berlaku.
          </span>
        </label>
      </div>

      <!-- 4. KONTAK DARURAT -->
      <div>
        <h2 class="text-lg font-semibold border-b pb-1 mb-3">‚òéÔ∏è Kontak Darurat <span class="text-sm text-gray-500">(Opsional)</span></h2>
        <input name="nama_kontak_darurat" class="w-full p-2 border rounded" placeholder="Nama Kontak Darurat" />
        <input name="hubungan_kontak_darurat" class="w-full p-2 border rounded mt-2" placeholder="Hubungan (Ayah/Ibu/Saudara)" />
        <input name="no_kontak_darurat" id="no_kontak_darurat" class="w-full p-2 border rounded mt-2" placeholder="No. HP Kontak Darurat" />
      </div>

      <!-- 5. UNGGAH DOKUMEN -->
      <div>
        <h2 class="text-lg font-semibold border-b pb-1 mb-3">üìé Unggah Dokumen</h2>

        <label class="block">Upload Foto KTP:</label>
        <input type="file" name="ktp_file" accept=".jpg,.jpeg,.png,.pdf" required class="w-full border p-2 rounded" />

        <label class="block mt-2">Upload Foto Profil:</label>
        <input type="file" name="foto_file" accept=".jpg,.jpeg,.png" required class="w-full border p-2 rounded" />
        <p class="text-xs text-gray-500 mt-1">* Gunakan foto yang sopan dan berpakaian muslim (menutup aurat).</p>
      </div>

      <!-- 6. KONFIRMASI FINAL -->
      <div class="mt-4">
        <label class="block text-sm text-gray-700 font-medium mb-1">‚úÖ Konfirmasi Data</label>
        <label class="inline-flex items-start">
          <input type="checkbox" name="final_konfirmasi" required class="mt-1" />
          <span class="ml-2 text-sm leading-snug">
            Saya menyatakan bahwa semua data yang saya isi adalah benar dan dapat dipertanggungjawabkan.
          </span>
        </label>
      </div>

      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 mt-6">Kirim Formulir</button>
      <p id="status" class="text-center text-sm text-green-600 mt-4"></p>
    </form>

    <!-- MODAL -->
    <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div class="bg-white p-6 rounded-2xl shadow-2xl text-center animate-bounce-in-down max-w-sm w-full">
        <div class="text-green-600 text-4xl mb-3">ü§≤</div>
        <h3 class="text-xl font-bold mb-2 text-green-700">Alhamdulillah, Registrasi Berhasil!</h3>
        <p class="text-sm text-gray-700 mb-4 leading-relaxed">
          Data antum/anti telah kami terima.<br />
          Silakan konfirmasi ke Admin Majlis melalui WhatsApp.
        </p>
        <button onclick="chatAdminWA()" class="bg-green-600 text-white px-4 py-2 rounded-full hover:bg-green-700 transition mb-2">
          Klik Disini untuk Konfirmasi ke Admin
        </button>
        <button onclick="closeModal()" class="text-sm text-gray-500 hover:underline">Tutup</button>
      </div>
    </div>


  <!-- Script eksternal -->
  <script src="script.js"></script>
</body>
</html>
